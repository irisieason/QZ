<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MenuItem Toggle Behavior Test</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #000028;
      color: white;
      padding: 40px;
      margin: 0;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
    }
    
    h1 {
      color: #0cc;
      margin-bottom: 10px;
    }
    
    .subtitle {
      color: #9d9d96;
      margin-bottom: 40px;
    }
    
    .section {
      margin-bottom: 40px;
      background-color: rgba(255, 255, 255, 0.05);
      padding: 24px;
      border-radius: 8px;
    }
    
    .section h2 {
      color: #0cc;
      margin-top: 0;
      margin-bottom: 16px;
      font-size: 20px;
    }
    
    .description {
      color: #9d9d96;
      margin-bottom: 20px;
      line-height: 1.6;
    }
    
    .menu-item {
      position: relative;
      display: flex;
      align-items: center;
      width: 256px;
      height: 48px;
      background-color: transparent;
      border-left: 4px solid transparent;
      cursor: pointer;
      transition: background-color 0.2s ease, border-color 0.2s ease;
      margin-bottom: 4px;
    }
    
    .menu-item:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }
    
    .menu-item.selected {
      background-color: rgba(0, 204, 204, 0.15);
      border-left-color: #0cc;
    }
    
    .menu-item__icon {
      margin-left: 14px;
      margin-right: 20px;
      font-size: 24px;
    }
    
    .menu-item__label {
      font-size: 14px;
      color: white;
    }
    
    .status {
      margin-top: 20px;
      padding: 12px;
      background-color: rgba(0, 204, 204, 0.1);
      border-left: 4px solid #0cc;
      border-radius: 4px;
      font-size: 14px;
    }
    
    .status strong {
      color: #0cc;
    }
    
    .code {
      background-color: rgba(0, 0, 0, 0.3);
      padding: 16px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      color: #0cc;
      margin-top: 16px;
      overflow-x: auto;
    }
    
    .highlight {
      color: #0cc;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>MenuItem åˆ‡æ¢é€‰ä¸­è¡Œä¸ºæµ‹è¯•</h1>
    <p class="subtitle">éªŒè¯ç‚¹å‡»å·²é€‰ä¸­çš„èœå•é¡¹å¯ä»¥å–æ¶ˆé€‰ä¸­</p>
    
    <!-- åœºæ™¯ 1: å•ä¸ªèœå•é¡¹åˆ‡æ¢ -->
    <div class="section">
      <h2>åœºæ™¯ 1: å•ä¸ªèœå•é¡¹ï¼ˆéå—æ§æ¨¡å¼ï¼‰</h2>
      <p class="description">
        ç‚¹å‡»èœå•é¡¹é€‰ä¸­ï¼Œå†æ¬¡ç‚¹å‡»å–æ¶ˆé€‰ä¸­ã€‚ç»„ä»¶å†…éƒ¨è‡ªåŠ¨ç®¡ç†çŠ¶æ€ã€‚
      </p>
      
      <div id="single-item-container">
        <div class="menu-item" id="single-item">
          <span class="menu-item__icon">ğŸ </span>
          <span class="menu-item__label">Dashboard</span>
        </div>
      </div>
      
      <div class="status">
        <strong>çŠ¶æ€ï¼š</strong> <span id="single-status">æœªé€‰ä¸­</span>
      </div>
      
      <div class="code">
// å®ç°ä»£ç <br>
const handleClick = () => {<br>
  &nbsp;&nbsp;if (controlledSelected === undefined) {<br>
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight">setInternalSelected(!internalSelected);</span> // åˆ‡æ¢çŠ¶æ€<br>
  &nbsp;&nbsp;}<br>
};
      </div>
    </div>
    
    <!-- åœºæ™¯ 2: å¤šä¸ªç‹¬ç«‹èœå•é¡¹ -->
    <div class="section">
      <h2>åœºæ™¯ 2: å¤šä¸ªç‹¬ç«‹èœå•é¡¹ï¼ˆéå—æ§æ¨¡å¼ï¼‰</h2>
      <p class="description">
        æ¯ä¸ªèœå•é¡¹ç‹¬ç«‹ç®¡ç†è‡ªå·±çš„é€‰ä¸­çŠ¶æ€ï¼Œå¯ä»¥åŒæ—¶é€‰ä¸­å¤šä¸ªã€‚
      </p>
      
      <div id="multiple-items-container">
        <div class="menu-item" data-id="dashboard">
          <span class="menu-item__icon">ğŸ </span>
          <span class="menu-item__label">Dashboard</span>
        </div>
        <div class="menu-item" data-id="analytics">
          <span class="menu-item__icon">ğŸ“Š</span>
          <span class="menu-item__label">Analytics</span>
        </div>
        <div class="menu-item" data-id="settings">
          <span class="menu-item__icon">âš™ï¸</span>
          <span class="menu-item__label">Settings</span>
        </div>
      </div>
      
      <div class="status">
        <strong>å·²é€‰ä¸­ï¼š</strong> <span id="multiple-status">æ— </span>
      </div>
    </div>
    
    <!-- åœºæ™¯ 3: äº’æ–¥é€‰æ‹©ï¼ˆå—æ§æ¨¡å¼ï¼‰ -->
    <div class="section">
      <h2>åœºæ™¯ 3: äº’æ–¥é€‰æ‹©ï¼ˆå—æ§æ¨¡å¼ï¼‰</h2>
      <p class="description">
        çˆ¶ç»„ä»¶ç®¡ç†é€‰ä¸­çŠ¶æ€ï¼Œåªèƒ½é€‰ä¸­ä¸€ä¸ªèœå•é¡¹ã€‚ç‚¹å‡»å…¶ä»–é¡¹ä¼šå–æ¶ˆå½“å‰é€‰ä¸­é¡¹ã€‚
      </p>
      
      <div id="controlled-items-container">
        <div class="menu-item" data-id="home">
          <span class="menu-item__icon">ğŸ </span>
          <span class="menu-item__label">Home</span>
        </div>
        <div class="menu-item" data-id="profile">
          <span class="menu-item__icon">ğŸ‘¤</span>
          <span class="menu-item__label">Profile</span>
        </div>
        <div class="menu-item" data-id="messages">
          <span class="menu-item__icon">âœ‰ï¸</span>
          <span class="menu-item__label">Messages</span>
        </div>
      </div>
      
      <div class="status">
        <strong>å½“å‰é€‰ä¸­ï¼š</strong> <span id="controlled-status">Home</span>
      </div>
      
      <div class="code">
// å—æ§æ¨¡å¼å®ç°<br>
const [selectedItem, setSelectedItem] = useState('home');<br>
<br>
&lt;MenuItem<br>
&nbsp;&nbsp;selected={selectedItem === 'home'}<br>
&nbsp;&nbsp;<span class="highlight">onClick={() => setSelectedItem('home')}</span><br>
/&gt;
      </div>
    </div>
    
    <!-- æ€»ç»“ -->
    <div class="section">
      <h2>âœ… éªŒè¯ç»“æœ</h2>
      <p class="description">
        <strong style="color: #0cc;">åœºæ™¯ 1 å’Œ 2ï¼ˆéå—æ§æ¨¡å¼ï¼‰ï¼š</strong><br>
        âœ“ ç‚¹å‡»æœªé€‰ä¸­çš„é¡¹ â†’ é€‰ä¸­ï¼ˆæ˜¾ç¤ºè“è‰²è¾¹æ¡†ï¼‰<br>
        âœ“ ç‚¹å‡»å·²é€‰ä¸­çš„é¡¹ â†’ å–æ¶ˆé€‰ä¸­ï¼ˆæ¢å¤é»˜è®¤çŠ¶æ€ï¼‰<br>
        âœ“ å¯ä»¥åŒæ—¶é€‰ä¸­å¤šä¸ªé¡¹ï¼ˆåœºæ™¯ 2ï¼‰<br>
        <br>
        <strong style="color: #0cc;">åœºæ™¯ 3ï¼ˆå—æ§æ¨¡å¼ï¼‰ï¼š</strong><br>
        âœ“ ç‚¹å‡»ä»»æ„é¡¹ â†’ è¯¥é¡¹é€‰ä¸­ï¼Œå…¶ä»–é¡¹å–æ¶ˆ<br>
        âœ“ åªèƒ½æœ‰ä¸€ä¸ªé¡¹è¢«é€‰ä¸­<br>
        âœ“ ä¸æ”¯æŒç‚¹å‡»å–æ¶ˆé€‰ä¸­ï¼ˆæ€»æœ‰ä¸€ä¸ªè¢«é€‰ä¸­ï¼‰
      </p>
    </div>
  </div>
  
  <script>
    // åœºæ™¯ 1: å•ä¸ªèœå•é¡¹åˆ‡æ¢
    const singleItem = document.getElementById('single-item');
    const singleStatus = document.getElementById('single-status');
    let singleSelected = false;
    
    singleItem.addEventListener('click', () => {
      singleSelected = !singleSelected;
      singleItem.classList.toggle('selected', singleSelected);
      singleStatus.textContent = singleSelected ? 'å·²é€‰ä¸­ âœ“' : 'æœªé€‰ä¸­';
      singleStatus.style.color = singleSelected ? '#0cc' : '#9d9d96';
    });
    
    // åœºæ™¯ 2: å¤šä¸ªç‹¬ç«‹èœå•é¡¹
    const multipleItems = document.querySelectorAll('#multiple-items-container .menu-item');
    const multipleStatus = document.getElementById('multiple-status');
    
    multipleItems.forEach(item => {
      item.addEventListener('click', () => {
        item.classList.toggle('selected');
        updateMultipleStatus();
      });
    });
    
    function updateMultipleStatus() {
      const selected = Array.from(multipleItems)
        .filter(item => item.classList.contains('selected'))
        .map(item => item.querySelector('.menu-item__label').textContent);
      
      multipleStatus.textContent = selected.length > 0 ? selected.join(', ') : 'æ— ';
      multipleStatus.style.color = selected.length > 0 ? '#0cc' : '#9d9d96';
    }
    
    // åœºæ™¯ 3: äº’æ–¥é€‰æ‹©ï¼ˆå—æ§æ¨¡å¼ï¼‰
    const controlledItems = document.querySelectorAll('#controlled-items-container .menu-item');
    const controlledStatus = document.getElementById('controlled-status');
    let currentSelected = 'home';
    
    // åˆå§‹åŒ–ç¬¬ä¸€ä¸ªä¸ºé€‰ä¸­çŠ¶æ€
    controlledItems[0].classList.add('selected');
    
    controlledItems.forEach(item => {
      item.addEventListener('click', () => {
        const id = item.getAttribute('data-id');
        
        // å–æ¶ˆæ‰€æœ‰é€‰ä¸­
        controlledItems.forEach(i => i.classList.remove('selected'));
        
        // é€‰ä¸­å½“å‰é¡¹
        item.classList.add('selected');
        currentSelected = id;
        
        // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
        const label = item.querySelector('.menu-item__label').textContent;
        controlledStatus.textContent = label;
      });
    });
  </script>
</body>
</html>
